{"is_source_file": true, "format": "Python", "description": "This is a Django REST Framework views module for handling API requests related to user profiles, booking Tatkal train tickets, checking booking status, processing payments via Razorpay, and user validation. It defines several API endpoints with authentication and validation logic.", "external_files": ["rest_framework.status", "rest_framework.permissions", "rest_framework.decorators", "rest_framework.response", "django.contrib.auth", "./models", "./serializers", "os"], "external_methods": ["status", "permissions.IsAuthenticated", "permissions.AllowAny", "api_view", "permission_classes", "Response", "authenticate", "Profile.objects.filter", "Profile.objects.get", "ProfileSerializer", "BookingSerializer", "PaymentSerializer", "UserValidationSerializer", "ProfileSerializer", "BookingSerializer", "PaymentSerializer", "os.environ.get", "datetime.now"], "published": ["health", "user_profiles", "book_ticket", "booking_status", "payment", "validate_user"], "classes": [], "methods": [{"name": "get_env(var, default=None)", "description": "Utility function to fetch environment variables with optional default.", "scope": "", "scopeKind": ""}, {"name": "health(request)", "description": "Health check endpoint that confirms server status.", "scope": "", "scopeKind": ""}, {"name": "user_profiles(request)", "description": "GET/POST endpoint for fetching and creating/updating user profiles.", "scope": "", "scopeKind": ""}, {"name": "book_ticket(request)", "description": "Endpoint to initiate a Tatkal train ticket booking, with validation and optional profile autofill.", "scope": "", "scopeKind": ""}, {"name": "booking_status(request)", "description": "Endpoint to fetch booking status(s) for the current user, with optional specific booking ID.", "scope": "", "scopeKind": ""}, {"name": "payment(request)", "description": "Endpoint to create a payment order for a booking via Razorpay, with validation and simulated order ID.", "scope": "", "scopeKind": ""}, {"name": "validate_user(request)", "description": "Endpoint for user credential validation, returning user info if valid.", "scope": "", "scopeKind": ""}], "calls": ["os.environ.get", "Profile.objects.filter", "Profile.objects.get", "ProfileSerializer", "Booking.objects.create", "BookingSerializer", "Booking.objects.get", "Payment.objects.create", "PaymentSerializer", "authenticate", "get_env", "datetime.now"], "search-terms": ["Tatkal booking", "train_no", "journey_date", "payment gateway", "razorpay", "user profiles", "booking status", "health endpoint", "validate user credentials"], "state": 2, "file_id": 9, "knowledge_revision": 48, "git_revision": "fde4dc03d82e745643ed5ee08d5837276ef1bf7e", "revision_history": [{"25": "02dea66f4a7ce80b91eb2a277c3d99893c65e572"}, {"42": "02dea66f4a7ce80b91eb2a277c3d99893c65e572"}, {"48": "fde4dc03d82e745643ed5ee08d5837276ef1bf7e"}], "ctags": [{"_type": "tag", "name": "book_ticket", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def book_ticket(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "booking_status", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def booking_status(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "get_env", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def get_env(var, default=None):$/", "language": "Python", "kind": "function", "signature": "(var, default=None)"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "payment", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def payment(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "user_profiles", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def user_profiles(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "validate_user", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def validate_user(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}], "hash": "c6c9274e89aafa0d1f30c99ae93bba51", "format-version": 4, "code-base-name": "backend", "filename": "backend/api/views.py"}