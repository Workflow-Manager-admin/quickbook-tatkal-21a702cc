{"is_source_file": true, "format": "Python", "description": "This file defines REST API endpoints for a train ticket booking system, including user registration, wallet deposit, booking creation, booking status, cancellation, auto-fill preferences, and payment processing via a mocked Razorpay integration. It also manages user profiles and legacy endpoints, with detailed validation and transaction handling.", "external_files": ["rest_framework.decorators", "rest_framework.permissions", "rest_framework.response", "rest_framework", "django.contrib.auth.models", "./models", "./serializers", "django.db"], "external_methods": ["User.objects.filter", "User.objects.create_user", "UserProfile.objects.create", "UserProfile.deposit_wallet", "Booking.try_pay_via_wallet", "Booking.objects.filter", "BookingSerializer", "UserProfileSerializer", "PaymentTransaction.objects.create", "PaymentTransaction.objects.get", "transaction.atomic"], "published": ["register_user", "deposit_wallet", "create_booking", "get_profile", "get_bookings", "health", "user_profile_list_create", "user_profile_detail", "tatkal_booking_create", "tatkal_booking_status", "tatkal_booking_cancel", "auto_fill_suggestions", "payment_initiate", "payment_callback", "payment_status"], "classes": [], "methods": [{"name": "auto_fill_suggestions(request, user_profile_id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "create_booking(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "deposit_wallet(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_bookings(request, user_id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_profile(request, user_id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "payment_callback(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "payment_initiate(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "payment_status(request, payment_transaction_id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "register_user(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "tatkal_booking_cancel(request, booking_id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "tatkal_booking_create(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "tatkal_booking_status(request, booking_id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "user_profile_detail(request, user_id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "user_profile_list_create(request)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["User.objects.filter", "User.objects.create_user", "UserProfile.objects.create", "UserProfile.objects.get", "PaymentTransaction.objects.create", "PaymentTransaction.objects.get", "Booking.objects.filter", "BookingSerializer", "UserProfileSerializer", "transaction.atomic", "random.choices", "string.ascii_lowercase", "string.digits"], "search-terms": ["register_user", "deposit_wallet", "create_booking", "get_profile", "payment_initiate", "razorpay", "payment_callback", "user_profile", "tatkal_booking", "auto_fill"], "state": 2, "file_id": 9, "knowledge_revision": 59, "git_revision": "14ab0891789c05a212ed66cc3b0e81c43659857d", "revision_history": [{"26": "1ee4a38a356272713b6d744916e471d3c147316f"}, {"41": "1ee4a38a356272713b6d744916e471d3c147316f"}, {"47": "756eef19971d9e96ddb6cf129a1482dffdc33ec4"}, {"54": "756eef19971d9e96ddb6cf129a1482dffdc33ec4"}, {"57": "756eef19971d9e96ddb6cf129a1482dffdc33ec4"}, {"58": "2950d5b53ce19b1e795001e3c33d55a95084fb10"}, {"59": "14ab0891789c05a212ed66cc3b0e81c43659857d"}], "ctags": [{"_type": "tag", "name": "RAZORPAY_MOCK_KEY", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^RAZORPAY_MOCK_KEY = \"rzp_test_mocked\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "RAZORPAY_MOCK_SECRET", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^RAZORPAY_MOCK_SECRET = \"secret_key_mocked\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "auto_fill_suggestions", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def auto_fill_suggestions(request, user_profile_id):$/", "language": "Python", "kind": "function", "signature": "(request, user_profile_id)"}, {"_type": "tag", "name": "create_booking", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def create_booking(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "deposit_wallet", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def deposit_wallet(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "drf_status", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^from rest_framework import status as drf_status$/", "language": "Python", "kind": "unknown", "nameref": "unknown:status"}, {"_type": "tag", "name": "get_bookings", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def get_bookings(request, user_id):$/", "language": "Python", "kind": "function", "signature": "(request, user_id)"}, {"_type": "tag", "name": "get_profile", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def get_profile(request, user_id):$/", "language": "Python", "kind": "function", "signature": "(request, user_id)"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "payment_callback", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def payment_callback(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "payment_initiate", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def payment_initiate(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "payment_status", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def payment_status(request, payment_transaction_id):$/", "language": "Python", "kind": "function", "signature": "(request, payment_transaction_id)"}, {"_type": "tag", "name": "register_user", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def register_user(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "tatkal_booking_cancel", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def tatkal_booking_cancel(request, booking_id):$/", "language": "Python", "kind": "function", "signature": "(request, booking_id)"}, {"_type": "tag", "name": "tatkal_booking_create", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def tatkal_booking_create(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "tatkal_booking_status", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def tatkal_booking_status(request, booking_id):$/", "language": "Python", "kind": "function", "signature": "(request, booking_id)"}, {"_type": "tag", "name": "user_profile_detail", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def user_profile_detail(request, user_id):$/", "language": "Python", "kind": "function", "signature": "(request, user_id)"}, {"_type": "tag", "name": "user_profile_list_create", "path": "/home/kavia/workspace/code-generation/quickbook-tatkal-21a702cc/backend/api/views.py", "pattern": "/^def user_profile_list_create(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}], "hash": "f87027f4072ed1905598d0ecafb9c817", "format-version": 4, "code-base-name": "backend", "filename": "backend/api/views.py", "fields": [{"name": "RAZORPAY_MOCK_KEY = \"rzp_test_mocked\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RAZORPAY_MOCK_SECRET = \"secret_key_mocked\"", "scope": "", "scopeKind": "", "description": "unavailable"}]}